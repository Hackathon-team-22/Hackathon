Ниже приводится сводка по каждому пункту требований и соответствие уже реализованному коду:

| Требование                                                                                                                     | Реализовано в коде                                   | Комментарий                                                                                                                                                                                                         |
|--------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Ввод данных по транзакции через UI**                                                                                         | ✓ API для создания есть (`POST /transactions`)       | Серверная часть реализована: в `TransactionController#create` принимается `TransactionRequest`. UI-слой в репозитории отсутствует — нужно добавить фронтенд.                                                        |
| **Корректировка транзакции**                                                                                                   | ✓ API для обновления есть (`PUT /transactions/{id}`) | Контроллер и `UpdateTransactionService` обновляют все поля, но **не проверяют статус**, хотя требовалось блокировать изменение для ряда статусов. Нужно добавить бизнес-логику «если статус из списка → запретить». |
| **Просмотр отчёта и выгрузка отчёта**                                                                                          | ✓ API для просмотра (фильтрация + дашборды)          | Эндпоинты `GET /transactions` (с фильтрами) и `/dashboard/**` есть. **Выгрузки в CSV/Excel нет** — нужно добавить отдельный экспортный контроллер.                                                                  |
| **Фильтрация данных**:                                                                                                         |                                                      |                                                                                                                                                                                                                     |
| – по банку отправителя/получателя                                                                                              | ✓ (параметры `bankSenderId`, `bankReceiverId`)       | Реализовано в `FilterTransactionsService` и `TransactionSpecification`.                                                                                                                                             |
| – по дате (конкретная дата / диапазон)                                                                                         | ✓ (`fromDate`, `toDate`)                             | Параметры `String` → `LocalDateTime.parse(...)` (ISO). Для одиночной даты достаточно передать одинаковые `fromDate` и `toDate`. **Формат dd.MM.yyyy не поддерживается** (требовался локальный формат).              |
| – по статусу                                                                                                                   | ✓ (`statusId`)                                       | Реализовано.                                                                                                                                                                                                        |
| – по ИНН                                                                                                                       | ✓ (`receiverTin`)                                    | Есть `@Size(min=11,max=11)` на строку. **Не проверяется, что только цифры**, стоит дополнить `@Pattern("\\d{11}")`.                                                                                                 |
| – по сумме операции (в диапазоне)                                                                                              | ✓ (`minAmount`, `maxAmount`)                         | Реализовано.                                                                                                                                                                                                        |
| – по типу операции                                                                                                             | ✓ (`transactionTypeId`)                              | Реализовано.                                                                                                                                                                                                        |
| – по категории                                                                                                                 | ✓ (`categoryId`)                                     | Реализовано.                                                                                                                                                                                                        |
| – без параметров (вывод всех записей)                                                                                          | ✓ (`required=false`, отсутствие фильтра = все)       | По умолчанию все параметры необязательны → возвращает всё.                                                                                                                                                          |
| **Дашборды**:                                                                                                                  |                                                      |                                                                                                                                                                                                                     |
| – динамика по количеству транзакций (week/month/quarter/year)                                                                  | ✓ (`/dashboard/transactions/count`)                  | Реализовано с параметром `period` и `defaultValue="week"`.                                                                                                                                                          |
| – динамика по типу транзакции (отдельно debit/credit)                                                                          | ✓ (`/dashboard/transactions/by-type`)                | Реализовано.                                                                                                                                                                                                        |
| – сравнение поступлений и списаний                                                                                             | ✓ (`/dashboard/transactions/sums`)                   | Реализовано.                                                                                                                                                                                                        |
| – количество проведённых и отменённых транзакций                                                                               | ✓ (`/dashboard/transactions/status-count`)           | Реализовано.                                                                                                                                                                                                        |
| – статистика по банкам отправителя/получателя                                                                                  | ✓ (`/dashboard/transactions/by-bank`)                | Реализовано.                                                                                                                                                                                                        |
| – статистика по категориям расходов/поступлений                                                                                | ✓ (`/dashboard/transactions/by-category`)            | Реализовано.                                                                                                                                                                                                        |
| **Редактирование запрещено для статусов**: подтвержденная, в обработке, отменена, платеж выполнен, платеж удален, возврат      | Частично ×                                           | Код `UpdateTransactionService` не проверяет статус перед изменением. Нужно добавить проверку по тем же статусам, что и в `DeleteTransactionService`.                                                                |
| **Параметры редактирования**: тип лица, дата, комментарий, сумма, статус, банк отправителя/получателя, ИНН, категория, телефон | ✓ контроллер принимает все поля                      | Контроллер и DTO поддерживают все эти поля.                                                                                                                                                                         |
| **Удаление транзакции**:                                                                                                       |                                                      |                                                                                                                                                                                                                     |
| – запрещено для статусов: подтвержденная, в обработке, отменена, платеж выполнен, возврат                                      | ✓ (`DeleteTransactionService.nonDeletableStatuses`)  | Список имён на русском задан в сервисе; бизнес-правило есть.                                                                                                                                                        |
| – при удалении менять статус на «Платеж удален»                                                                                | ✓ (`existingTx.setStatus(deletedStatus)`)            | Реализовано.                                                                                                                                                                                                        |
| **Аутентификация пользователей на UI**                                                                                         | ✓ API JWT-защита всех контроллеров кроме `/auth/**`  | Серверная часть сделана. UI-часть (логин/формы) не в репозитории.                                                                                                                                                   |
| **Валидация данных**:                                                                                                          |                                                      |                                                                                                                                                                                                                     |
| – формат даты dd.MM.yyyy                                                                                                       | ×                                                    | Используется ISO-формат для JSON (`LocalDateTime`), не поддерживается слепо dd.MM.yyyy. Нужно либо `@Pattern` + ручной парсинг, либо `@JsonFormat` на поле.                                                         |
| – ИНН (только числа, 11 цифр)                                                                                                  | Частично ✓                                           | Есть ограничение длины, нет проверки цифр. Стоит добавить `@Pattern("\\d{11}")`.                                                                                                                                    |
| – телефон (8 или +7…)                                                                                                          | ✓ (`@Pattern("^(\\+7                                 | 8)\\d{10}$")`)                                                                                                                                                                                                      | Реализовано.                                                                                                                                                                                                                                                                             |
| **Unit-тесты**                                                                                                                 | ✓                                                    | Контроллеры и сервисы покрыты тестами, в том числе `TransactionControllerUnitTest`.                                                                                                                                 |
| **Аудит изменений**                                                                                                            | ✓ (`AuditPublisher.publish*` в сервисах)             | Сохранение в `audit_log` происходит через `AuditPublisher`, логи в БД.                                                                                                                                              |
| **Экспорт логов интеграции**                                                                                                   | ×                                                    | Нет эндпоинтов для выгрузки интеграционных логов или аудита.                                                                                                                                                        |
| **CI/CD / Docker / профили / документация API**                                                                                | Частично                                             | Swagger UI и OpenAPI настроены (`OpenApiConfig`), Docker Compose нет, профили (`dev`/`prod`) отсутствуют, CI-скрипты не в проекте.                                                                                  |

---

**Резюме «что не реализовано»**

1. Экспорт отчётов (CSV/Excel) и логов аудита.
2. Бизнес-валидация редактирования: блокировка по статусам в `UpdateTransactionService`.
3. Полная валидация поля ИНН (`@Pattern("\\d{11}")`) и поддержка формата даты `dd.MM.yyyy`.
4. UI-часть (формы ввода, выгрузки).
5. Docker/CI, профили Spring для окружений.

